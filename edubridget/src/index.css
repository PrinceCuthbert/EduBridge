@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* 
   * BASE FONT SIZE SETUP (Mobile-First)
   * This is the foundation for all rem calculations
   * 1rem will equal these values at different breakpoints
   */
  html {
    /* Mobile: 14px base (small screens) */
    font-size: 87.5%; /* 14px if browser default is 16px */

    @apply scroll-smooth antialiased bg-surface overflow-x-hidden;
  }

  /* Tablet: 15px base */
  @media (min-width: 640px) {
    html {
      font-size: 93.75%; /* 15px */
    }
  }

  /* Desktop: 16px base (standard) */
  @media (min-width: 1024px) {
    html {
      font-size: 100%; /* 16px */
    }
  }

  /* Large Desktop: 18px base */
  @media (min-width: 1536px) {
    html {
      font-size: 112.5%; /* 18px */
    }
  }

  /* 
   * BODY - Inherits the responsive base font size
   */
  body {
    @apply font-sans text-text-main overflow-x-hidden w-full;
    font-size: 1rem; /* Scales with html font-size */
    line-height: 1.6;
    position: relative;
  }

  #root {
    @apply w-full overflow-x-hidden;
  }

  /* 
   * MODERN SCROLLBAR - Global Application
   * Applied to all scrollable elements by default
   */
  * {
    /* Firefox */
    scrollbar-width: thin;
    scrollbar-color: rgba(100, 116, 139, 0.3) transparent;
  }

  /* Webkit browsers (Chrome, Safari, Edge) */
  *::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background: linear-gradient(
      180deg,
      rgba(100, 116, 139, 0.4),
      rgba(71, 85, 105, 0.5)
    );
    border-radius: 10px;
    transition: all 0.3s ease;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(
      180deg,
      rgba(30, 64, 175, 0.6),
      rgba(29, 78, 216, 0.7)
    );
    transform: scaleY(1.1);
  }

  /* Scrollbar corner (when both scrollbars are visible) */
  *::-webkit-scrollbar-corner {
    background: transparent;
  }

  /* 
   * HEADINGS - Use rem for scalability
   * These will automatically scale based on viewport
   */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-serif text-text-main;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 1rem;
  }

  h1 {
    font-size: 2rem; /* Mobile: 28px, Desktop: 32px, Large: 36px */
  }

  h2 {
    font-size: 1.5rem; /* Mobile: 21px, Desktop: 24px, Large: 27px */
  }

  h3 {
    font-size: 1.25rem; /* Mobile: 17.5px, Desktop: 20px, Large: 22.5px */
  }

  h4 {
    font-size: 1.125rem; /* Mobile: 15.75px, Desktop: 18px, Large: 20.25px */
  }

  h5 {
    font-size: 1rem; /* Matches body */
  }

  h6 {
    font-size: 0.875rem; /* Slightly smaller than body */
  }

  /* 
   * PARAGRAPHS & TEXT
   */
  p {
    @apply font-sans text-text-muted;
    font-size: 1rem;
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  /* Small text */
  small {
    font-size: 0.875rem; /* 87.5% of base */
  }

  /* 
   * FORM ELEMENTS - CRITICAL FOR CONSISTENCY
   * Force inputs to inherit responsive typography
   */
  input,
  textarea,
  select,
  button {
    font-family: inherit;
    font-size: inherit; /* Inherits from parent or body */
    line-height: inherit;
  }

  /* Specific input sizing for better UX */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  textarea,
  select {
    font-size: 1rem; /* Prevents iOS zoom on focus when < 16px */
  }

  /* Labels */
  label {
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.5;
  }

  /* Buttons */
  button {
    font-size: 1rem;
    font-weight: 600;
    line-height: 1.5;
  }

  /* 
   * LINKS
   */
  a {
    color: inherit;
    text-decoration: none;
  }
}

@layer utilities {
  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  /* Premium scrollbar variant with primary color */
  .scrollbar-primary {
    scrollbar-width: thin;
    scrollbar-color: rgba(26, 35, 126, 0.4) transparent;
  }

  .scrollbar-primary::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-primary::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-primary::-webkit-scrollbar-thumb {
    background: linear-gradient(
      180deg,
      rgba(26, 35, 126, 0.5),
      rgba(30, 64, 175, 0.6)
    );
    border-radius: 10px;
    transition: all 0.3s ease;
  }

  .scrollbar-primary::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(
      180deg,
      rgba(26, 35, 126, 0.8),
      rgba(30, 64, 175, 0.9)
    );
  }

  /* Minimal invisible scrollbar that appears on hover */
  .scrollbar-hover {
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;
    transition: scrollbar-color 0.3s ease;
  }

  .scrollbar-hover:hover {
    scrollbar-color: rgba(100, 116, 139, 0.3) transparent;
  }

  .scrollbar-hover::-webkit-scrollbar {
    width: 5px;
    height: 5px;
  }

  .scrollbar-hover::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-hover::-webkit-scrollbar-thumb {
    background: transparent;
    border-radius: 10px;
    transition: background 0.3s ease;
  }

  .scrollbar-hover:hover::-webkit-scrollbar-thumb {
    background: rgba(100, 116, 139, 0.3);
  }

  .scrollbar-hover::-webkit-scrollbar-thumb:hover {
    background: rgba(71, 85, 105, 0.5);
  }

  /* Blob animation for hero section */
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-4000 {
    animation-delay: 4s;
  }
}
